\chapter{Introduction}

\section{Motivation}

The global market for \ac{IoT} devices is expected to grow from USD 397.42 billion in 2022 to USD 1,110 billion in 2028~\cite{lionel_sujay_vailshery_global_2022}.
Over short distances and with mains-powered devices, it is relatively easy to achieve connections to the internet wirelessly with technologies such as ZigBee, Thread of Wi-Fi.
However, bridging long distances can become a challenge when devices also need to be autonomous which means to consume as little power as possible.

The wireless communication protocol \ac{LoRa} promises to address this challenge by offering a vast range with the drawback of having little throughput.
The longest transmission range of a \ac{LoRa} device, under ideal conditions, has been measured at 832 km~\cite{the_things_network_global_team_lora_nodate}.
While, realistically, such devices usually reach much shorter distances, they can still be used to connect devices over long distances of multiple kilometers.
In the first half of 2020, \ac{LoRa} was the second most used \ac{LPWAN} technology worldwide, scoring 41\% and ranking just behind NB-IoT with 44\%~\cite{iot_analytics_lpwa_2020}.

While \ac{LoRa} end devices can feature \ac{GPS} receivers to geolocate them when deployed, they use additional space and, more importantly, power.
This is especially problematic for battery-powered devices that are deployed in remote areas.
Contrary to \ac{GPS}, \ac{LoRa} nodes may also be geolocated without a \ac{GPS} receiver by using the signals they send to the \ac{LoRa} Gateways in the network.

The aim of this thesis is to analyze and compare \ac{GPS}-less methods for geolocating standard \ac{LoRaWAN} nodes without modifying them or the gateways used.
The aim is not to focus specifically on indoor or outdoor applications specifically but to provide a general overview of the topic.
To achieve this, available \ac{LoRa} Gateways that are registered in \acf{TTN} as well as new ones placed in the vicinity of Furtwangen were used.

\section{Research Questions}

% TODO refine those

\begin{enumerate}
      \item In what ways can \ac{LoRa} devices be geolocated without the need for a \ac{GPS} receiver?
      \item How do these ways compare to each other?
      \item What factors can influence the accuracy of these kinds of geolocation?
\end{enumerate}

\section{Existing / Related Work}
% Note: Zahoransky: Should be about 1-3 (PDF) pages

Some papers have already looked into the topic of geolocation of \ac{LoRa} devices.

Mackey et al.~used \ac{LoRa} gateways over relatively short distances to geolocate \ac{LoRa} devices by using their \ac{RSSI} values~\cite{mackey_lora-based_2019}.
They used a soccer field as their test environment and achieved an accuracy of \SIrange{9}{20}{\meter}.
Notably, \ac{LoS} was a given in their test environment.

In another example, Lam et al.~proposed a method to geolocate \ac{LoRa} devices using a new kind of algorithm that is also based on \ac{RSSI} values~\cite{lam_new_2018}.
They focused specifically on noise affecting anchor nodes/gateways in their research.
As a result, they proposed an algorithm called \acf{L3M-DC} which can select non-noisy nodes to geolocate \ac{LoRa} devices.
Using this algorithm, they achieve an accuracy of \SI{7.51}{\meter}.

In January 2023, Perković et al.\ published a paper on the topic of \ac{LoRa}-based indoor localization.
They used a machine learning approach in addition to \ac{RSSI} and \ac{SNR} values to improve the accuracy of their localization method~\cite{perkovic_machine_2023}.

Anagnostopoulos and Kalousis compared some fingerprinting based localization methods for \ac{LoRaWAN} in 2019~\cite{anagnostopoulos_reproducible_2019}.
They used methods like \ac{kNN} as well as a neural network approach.
Using the \ac{kNN} approach, they achieved an accuracy of \SIrange{273}{394}{\meter}.

Aernouts et al.\ also used a fingerprinting approach in 2018~\cite{aernouts_sigfox_2018}.
They compared the accuracy of fingerprinting localization for \ac{LoRaWAN} and \emph{SIGFOX} and concluded that \ac{LoRaWAN} is more accurate than \emph{SIGFOX}.
\emph{SIGFOX} is another \ac{LPWAN} technology similar to \ac{LoRaWAN}.
It uses a different modulation technique, however.
In urban environments, the accuracy was \SI{688.97}{\meter} for their \emph{SIGFOX} dataset and \SI{398.40}{\meter} for their LoRaWAN dataset.

Anjum et al.\ also evaluated \ac{RSSI} fingerprinting in 2019~\cite{anjum_analysis_2019}.
In their research, they compared \ac{LoS} and \ac{NLoS} scenarios, analyzing the path loss exponent and the standard deviation of the shadowing \ac{MPP} parameter in each of these environments.
They didn't use the \ac{LoRaWAN} protocol but instead used a small test setup of their own \ac{LoRa} nodes.
Placing nodes in different stories of a building, they measured a varying accuracy of \ac{RSSI} to distance mappings.
 
Fernandes et al.\ used a hybrid approach to locate elderly care recipients indoors: \ac{UWB} technology for localization and \ac{LoRaWAN} to send data to their caregivers~\cite{fernandes_hybrid_2020}.
They chose the \ac{LoRaWAN} technology to transmit the actual localization data for its ability to be implemented as both public and private network infrastructures.

Gu et al.\ researched \ac{LoRa}-based localization in 2018.
They concluded that both \ac{ToA} and \ac{RSSI} based methods are flawed and are not accurate enough for any task that requires precision, such as steering of autonomous vehicles and similar use cases~\cite{gu_lora-based_2018}.

Jeftenić et al.\ researched the impact of environmental parameters such as precipitation, temperature, and humidity on \ac{SNR} and \ac{RSS} in \ac{LoRaWAN} in 2020~\cite{jeftenic_impact_2020}.
Their results included a high negative impact of rising temperature and relative humidity on the \ac{RSS} and \ac{SNR} values.
Snowing also led to fluctuations in \ac{RSS} and \ac{SNR} values if the \ac{LoRaWAN} features \ac{ADR} was disabled.

Magno et al.\ showed another promising approach to locate \ac{LoRa} devices in 2018~\cite{magno_poster_2018}.
They combined the \acf{RTK} technique with \ac{LoRa} to achieve an accuracy of \SI{20}{\centi\meter} in some experimental results.
\ac{RTK} is a technique that uses a fixed, time-synchronized base station with \ac{GPS} to correct the localization signal of a mobile device called Rover.

In 2004, Elnahrawy et al.\ researched ``The Limits of Localization Using Signal Strength''~\cite{elnahrawy_limits_2004}.
While they used Wi-Fi technology instead of \ac{LoRa}, their findings are still relevant.
During their research, they concluded that indoor \ac{RSS}-based localization without any additional complex environmental models or additional localization infrastructure has a median localization error of \SI{3.04}{\meter} and a 97th percentile error of \SI{9.14}{\meter}.

% TODO should there be some sort of conclusion here?

\section{Outline}

This thesis is structured as follows:

\begin{enumerate}
      \item \textbf{Background}:
            This chapter provides background information on topics that are necessary to understand the main part of the thesis, such as some basics of \ac{RF} technology, \ac{LoRa}, \ac{LoRaWAN} and \ac{GPS} as well as geolocation techniques.
      \item \textbf{Implementation}:
            The topic of this chapter will be how the geolocation was implemented in practice.
            It also describes what hardware was used, where new gateways were deployed in what ways and how the \ac{TTNL} application was developed to perform calculations on the collected data.
      \item \textbf{Conclusion}:
            This chapter concludes the thesis and gives an evaluation on the topics discussed in it.
            It also talks about some problems and challenges that occurred and how they could be overcome in the future.
\end{enumerate}

% TODO does this belong here?

\section{Expression of Thanks}\label{sec:expression-of-thanks}

I would like to express my thanks to several parties for the help they provided me with during the creation of this thesis:

My supervising professor Prof.\ Dr.\ Richard Zahoransky, for his support and guidance throughout the thesis.
He helped me to channel my motivation for the topic into productivity and provided me with valuable feedback.

The Netzint GmbH in Gütenbach and Mr.\ Tom Lehmann in specific, for describing the implementation of \ac{LoRaWAN} technology into a company's infrastructure in Furtwangen to me.
He also helped me to establish contact with Mr.\ Odin Jäger who allowed me to put up a gateway on the \ac{HFU} O building.

The EGT GmbH from Triberg, for providing some insight into their own endeavors with \ac{LoRaWAN} technology.

The \ac{GHB} NetAdmins team, who spent many hours helping me install hardware within the building infrastructure they manage as well as configuring the external network access needed to control and configure it.
Their members include, but are not limited to: Kai-Luka Lüthje, Simon Blaßdörfer, Valentin Weber, Florian Brunen, and Fabian Hurst.

Mr.\ Ralf Schellhammer, for providing me with the necessary hardware to conduct the experiments.
His motivation in explaining technical intricacies of radio transmission and his willingness to help me with installing some \ac{LoRaWAN} gateways was invaluable.
He also helped with the installation of new gateways in the vicinity of Furtwangen on several occasions.

Mr.\ Martin Kramer, for configuring the network I used for the gateways as well as connecting them to the \ac{HFU} network infrastructure.

The club of amateur radio operators based in Furtwangen, \emph{DL0FIS}, for providing me with the opportunity to install a gateway on top of their radio mast in the vicinity of Furtwangen.